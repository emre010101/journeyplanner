<!DOCTYPE html>
<html>
<head>
    <title>Journey Planner</title>
    <link rel="stylesheet" type="text/css" href="../CSS/planner.css">
    <link rel="stylesheet" type="text/css" href="../CSS/navbar.css">
    <script>
window.initMap = function() {
    map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 53.550, lng: -7.305 }, <!-- Sydney: lat: -34.397, lng: 150.644  Ireland: 53.7798° N, 7.3055° W-->
        zoom: 7,
    });
    directionsService = new google.maps.DirectionsService();
    directionsRenderer = new google.maps.DirectionsRenderer();
    geocoder = new google.maps.Geocoder();
    directionsRenderer.setMap(map);
}
</script>

</head>
<body ondrop="drop(event)" ondragover="allowDrop(event)">

<nav id="nav-bar">
    <div id="site-name">
        <a href="index.html">Journey Planner</a>
        <a id="role"></a>
        <a id="gpt-usage"></a>
        <a id="map-usage"></a>
    </div>
    <div id="nav-links">
        <a href="index.html">Home</a>
        <a href="planner.html" id="plannerLink" style="display: none">Planner</a>
        <a href="communityRoom.html" id="communityLink" style="display: none">Community Room</a>
        <span id="user-greeting"></span>
        <button id="sign-in">Sign In</button>
        <button id="log-in">Log In</button>
        <button id="log-out">Log out</button>
    </div>
    
</nav>

<div class="container">
    <div id="map-and-stops-container">
        <div id="stops-list" style="display:none;"></div>
        <div id="map"></div>
        <div id="calculate" style="display:none;"></div> <!-- After user choose the stop points -->
    </div>
    <div id="chat-input-area">
        <textarea id="user-input" placeholder="Enter your journey details here..."></textarea>
        <div id="buttons-area">
            <button id="send-button" class="button">Send</button>
            <button id="save-button" style="display:none;" class="button">Save Route</button>
            <button id="calculate-button" style="display:none;" class="button">Calculate Route</button>
            <a id="displayOn-google" style="display:none;" class="button" target="_blank">Display on Google Map</a>
        </div>
    </div>
    <div id="journey-bar" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
</div>

<!-- Log In Modal -->
<div id="logInModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h1>Please Login</h1>
        <form id="loginForm">
          <div class="form-control">
            <input type="text" id="loginEmail" name="useremail" required>
            <label for="loginEmail">Email</label>
          </div>
      
          <div class="form-control">
            <input type="password" id="loginPassword" name="password" required>
            <label for="loginPassword">Password</label>
          </div>
      
          <button class="enterbtn">Login</button>
      
          <p class="text">Don't have an account?
            <a href="#" id="registerLink">Register</a>
          </p>
        </form>
      </div>
</div>

<!-- Sign In Modal -->
<div id="signInModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h1>Please Sign-in</h1>
        <form id="signinForm">
          <div class="form-control">
            <input type="text" id="signinEmail" required>
            <label for="signinEmail">Email</label>
          </div>
          <div class="form-control">
            <input type="password" id="signinPassword" name="password" required>
            <label>Password</label>
          </div>
          <div class="form-control">
            <input type="password" id="signinConfirmPassword" name="confirmPassword" required>
            <label for="signinConfirmPassword">Confirm Password</label>
          </div>
          <div class="form-control">
            <input type="text" id="signinFirstName" name="firstname" required>
            <label for="signinFirstName">First Name</label>
          </div>
          <div class="form-control">
            <input type="text" id="signinLastName" name="lastname" required>
            <label for="signinLastName">Last Name</label>
          </div>
          <button class="enterbtn">Sing in</button>
        </form>
      </div>
</div>

<!-- The Modal -->
<div id="saveDialog" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <span class="close">&times;</span>
        <form id="saveForm">
            <label for="title">Journey Title:</label><br>
            <input type="text" id="title" name="title"><br>
            <button id="saveAndShare" type="button">Save and Share</button>
        </form>
    </div>
</div>


<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=KEYGOESHERE">
</script>
<script src="../Script/planner.js"></script>
<script src="../Script/navbar.js"></script>

</body>
</html>